# ç¼–è¯‘æ–‡ä»¶æ¸…å• - å¸¦å»¶æ—¶æµ‹è¯•ç‰ˆæœ¬

## ğŸ“¦ å¿…é¡»ç¼–è¯‘çš„æ–‡ä»¶

### C æºæ–‡ä»¶
```
âœ… main.c              - ä¸»ç¨‹åºï¼ˆå«å»¶æ—¶æµ‹è¯•ï¼‰
âœ… traffic_light.c     - äº¤é€šç¯æ§åˆ¶æ¨¡å—
âœ… display.c           - æ•°ç ç®¡æ˜¾ç¤ºæ¨¡å—
âœ… timer.c             - å»¶æ—¶å‡½æ•°æ¨¡å—ï¼ˆæ–°å¢ï¼‰
```

### å¤´æ–‡ä»¶
```
âœ… config.h            - ç³»ç»Ÿé…ç½®
âœ… traffic_light.h     - äº¤é€šç¯æ¨¡å—å¤´æ–‡ä»¶
âœ… display.h           - æ˜¾ç¤ºæ¨¡å—å¤´æ–‡ä»¶
âœ… timer.h             - å»¶æ—¶æ¨¡å—å¤´æ–‡ä»¶ï¼ˆæ–°å¢ï¼‰
```

### æ±‡ç¼–æ–‡ä»¶
```
âœ… STARTUP.A51         - å¯åŠ¨ä»£ç 
```

---

## ğŸ”§ Keil é¡¹ç›®é…ç½®

### 1. æ·»åŠ æ–°æ–‡ä»¶åˆ°é¡¹ç›®

åœ¨ Keil ä¸­ï¼š
```
å³é”® "Source Group 1"
â†’ Add Files to Group
â†’ é€‰æ‹© timer.c
```

### 2. æ–‡ä»¶ä¾èµ–å…³ç³»

```
main.c
â”œâ”€â”€ config.h
â”œâ”€â”€ traffic_light.h
â”œâ”€â”€ display.h
â””â”€â”€ timer.h          â† æ–°å¢ä¾èµ–

timer.c
â””â”€â”€ timer.h

traffic_light.c
â”œâ”€â”€ config.h
â””â”€â”€ traffic_light.h

display.c
â”œâ”€â”€ config.h
â””â”€â”€ display.h
```

---

## âš™ï¸ ç¼–è¯‘æ­¥éª¤

### 1. æ¸…ç†é¡¹ç›®
```
Project â†’ Clean Targets
```

### 2. é‡æ–°ç¼–è¯‘
```
Project â†’ Rebuild all target files (F7)
```

### 3. æ£€æŸ¥è¾“å‡º
```
Build Output:
compiling main.c...
compiling traffic_light.c...
compiling display.c...
compiling timer.c...         â† ç¡®è®¤æ–°æ–‡ä»¶å·²ç¼–è¯‘
assembling STARTUP.A51...
linking...
".\Objects\..." - 0 Error(s), 0 Warning(s).
```

---

## ğŸ“Š ä»£ç å¤§å°é¢„ä¼°

| æ¨¡å— | ROM (ä¼°è®¡) | RAM (ä¼°è®¡) | è¯´æ˜ |
|------|-----------|-----------|------|
| main.c | ~500 bytes | ~10 bytes | ä¸»ç¨‹åºé€»è¾‘ |
| traffic_light.c | ~800 bytes | ~20 bytes | äº¤é€šç¯æ§åˆ¶ |
| display.c | ~400 bytes | ~10 bytes | æ˜¾ç¤ºé©±åŠ¨ |
| timer.c | ~300 bytes | ~5 bytes | å»¶æ—¶å‡½æ•° |
| **æ€»è®¡** | **~2000 bytes** | **~45 bytes** | é€‚ç”¨ AT89C51 |

---

## âœ… ç¼–è¯‘æ£€æŸ¥æ¸…å•

ç¼–è¯‘å‰ç¡®è®¤ï¼š
- [ ] timer.c å·²æ·»åŠ åˆ°é¡¹ç›®
- [ ] timer.h åœ¨ç›¸åŒç›®å½•
- [ ] main.c åŒ…å« `#include "timer.h"`
- [ ] config.h ä¸­æ™¶æŒ¯é¢‘ç‡ä¸º 11.0592MHz
- [ ] èŠ¯ç‰‡é€‰æ‹©ä¸º AT89C51 æˆ– AT89S52

ç¼–è¯‘æˆåŠŸæ ‡å¿—ï¼š
- [ ] 0 Error(s), 0 Warning(s)
- [ ] ç”Ÿæˆ .hex æ–‡ä»¶
- [ ] ä»£ç å¤§å° < 4KB (AT89C51 å®¹é‡)

---

## ğŸ§ª æµ‹è¯•å‡†å¤‡

ç¼–è¯‘æˆåŠŸåï¼š
1. âœ… å°† .hex æ–‡ä»¶åŠ è½½åˆ° ISIS
2. âœ… è¿è¡Œä»¿çœŸ
3. âœ… è§‚å¯Ÿå¯åŠ¨åºåˆ—ï¼š
   - æ•°ç ç®¡æ˜¾ç¤º "99" (0.5ç§’)
   - å€’è®¡æ—¶ 3â†’2â†’1â†’0 (æ¯ç§’)
   - æ‰€æœ‰ç¯äº® 1ç§’
   - æ•°ç ç®¡æ˜¾ç¤º "88" (0.5ç§’)
   - è¿›å…¥æ­£å¸¸è¿è¡Œ

---

## ğŸ” å¸¸è§ç¼–è¯‘é”™è¯¯

### é”™è¯¯1: æ‰¾ä¸åˆ° timer.h
```
Error: cannot open source input file "timer.h"
```
**è§£å†³**ï¼šç¡®ä¿ timer.h å’Œ main.c åœ¨åŒä¸€ç›®å½•

### é”™è¯¯2: æœªå®šä¹‰ Delay_ms
```
Error: undefined symbol 'Delay_ms'
```
**è§£å†³**ï¼šç¡®ä¿ timer.c å·²æ·»åŠ åˆ°é¡¹ç›®å¹¶ç¼–è¯‘

### é”™è¯¯3: æœªå®šä¹‰ Test_DelayAccuracy
```
Error: undefined symbol 'Test_DelayAccuracy'
```
**è§£å†³**ï¼šæ£€æŸ¥ timer.c ä¸­æ˜¯å¦å®ç°è¯¥å‡½æ•°

### é”™è¯¯4: é‡å¤å®šä¹‰
```
Error: multiply defined symbol
```
**è§£å†³**ï¼šæ£€æŸ¥æ˜¯å¦æœ‰å¤šä¸ª main() å‡½æ•°ï¼Œåˆ é™¤æµ‹è¯•æ–‡ä»¶

---

## ğŸ“ ç‰ˆæœ¬è¯´æ˜

**å½“å‰ç‰ˆæœ¬**: v2.1 - å¸¦å»¶æ—¶æµ‹è¯•åŠŸèƒ½
- âœ… æ ‡å‡†å»¶æ—¶å‡½æ•° (timer.c/timer.h)
- âœ… å»¶æ—¶ç²¾åº¦æµ‹è¯• (å€’è®¡æ—¶æ˜¾ç¤º)
- âœ… ç¡¬ä»¶è‡ªæ£€ (1ç§’ç¯äº®æµ‹è¯•)
- âœ… ç³»ç»Ÿå°±ç»ªæç¤º

**ä¸Šä¸€ç‰ˆæœ¬**: v2.0 - åŒæ•°ç ç®¡ç‰ˆæœ¬
- ç®€å•è½¯ä»¶å»¶æ—¶
- æ— å»¶æ—¶æµ‹è¯•åŠŸèƒ½

---

## ğŸš€ å¿«é€Ÿå‘½ä»¤

| æ“ä½œ | å¿«æ·é”® | èœå•è·¯å¾„ |
|------|--------|---------|
| ç¼–è¯‘ | F7 | Project â†’ Build Target |
| æ¸…ç† | - | Project â†’ Clean Targets |
| é‡æ–°ç¼–è¯‘ | - | Project â†’ Rebuild all |
| æŸ¥çœ‹è¾“å‡º | - | View â†’ Output Window |

---

**ç¼–è¯‘å®Œæˆåå³å¯è¿›è¡Œå»¶æ—¶æµ‹è¯•ï¼** â±ï¸
